<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.valtecna.codehint-professional</id>

    <name>CodeHint Professional</name>

    <vendor email="svg.z32@gmail.com" url="https://www.valtecna.com">Valtecna</vendor>

    <description><![CDATA[
        AI-assisted documentation generator for Java, Kotlin, Python, TypeScript, JavaScript, and Rust.<br>
        Includes complexity inlays in the editor; also available for PHP and C/C++ via generic analysis.<br>
        Supports OpenAI, Groq, and Anthropic providers with per-provider model and API key configuration.<br>
        Documentation includes usage examples, edge cases, and improvement suggestions; security and performance inlays are available for Java and Kotlin.
    ]]></description>


    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>
    <depends optional="true" config-file="plugin-python.xml">com.intellij.modules.python</depends>
    <depends optional="true" config-file="plugin-javascript.xml">JavaScript</depends>
    <depends optional="true" config-file="plugin-rust.xml">org.rust.lang</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationConfigurable
                id="com.valtecna.iadoc.settings"
                displayName="CodeHint Professional"
                instance="com.valtecna.iadoc.settings.DocProConfigurable"/>

        <!-- Complexity inlay hints for Java -->
        <codeInsight.inlayProvider
                language="JAVA"
                implementationClass="com.valtecna.iadoc.inlays.ComplexityInlayProvider"/>

        <!-- Complexity inlay hints for Kotlin -->
        <codeInsight.inlayProvider
                language="kotlin"
                implementationClass="com.valtecna.iadoc.inlays.ComplexityInlayProvider"/>

        <!-- Complexity inlay hints for Python -->
        <codeInsight.inlayProvider
                language="Python"
                implementationClass="com.valtecna.iadoc.inlays.ComplexityInlayProvider"/>

        <!-- Complexity inlay hints for TypeScript -->
        <codeInsight.inlayProvider
                language="TypeScript"
                implementationClass="com.valtecna.iadoc.inlays.ComplexityInlayProvider"/>

        <!-- Complexity inlay hints for JavaScript -->
        <codeInsight.inlayProvider
                language="JavaScript"
                implementationClass="com.valtecna.iadoc.inlays.ComplexityInlayProvider"/>

        <!-- Complexity inlay hints for Rust -->
        <codeInsight.inlayProvider
                language="Rust"
                implementationClass="com.valtecna.iadoc.inlays.ComplexityInlayProvider"/>

        <!-- Complexity inlay hints for PHP -->
        <codeInsight.inlayProvider
                language="PHP"
                implementationClass="com.valtecna.iadoc.inlays.ComplexityInlayProvider"/>

        <!-- Complexity inlay hints for C++ -->
        <codeInsight.inlayProvider
                language="ObjectiveC"
                implementationClass="com.valtecna.iadoc.inlays.ComplexityInlayProvider"/>

        <!-- Security inlay hints for Java -->
        <codeInsight.inlayProvider
                language="JAVA"
                implementationClass="com.valtecna.iadoc.inlays.SecurityInlayProvider"/>

        <!-- Security inlay hints for Kotlin -->
        <codeInsight.inlayProvider
                language="kotlin"
                implementationClass="com.valtecna.iadoc.inlays.SecurityInlayProvider"/>

        <!-- Performance inlay hints for Java -->
        <codeInsight.inlayProvider
                language="JAVA"
                implementationClass="com.valtecna.iadoc.inlays.PerformanceInlayProvider"/>

        <!-- Performance inlay hints for Kotlin -->
        <codeInsight.inlayProvider
                language="kotlin"
                implementationClass="com.valtecna.iadoc.inlays.PerformanceInlayProvider"/>
    </extensions>

    <!-- Actions -->
    <actions>
        <!-- Action in editor context menu -->
        <action id="com.valtecna.iadoc.ShowJavaDoc"
                class="com.valtecna.iadoc.actions.ShowJavaDocAction"
                text="View CodeHint Professional"
                description="Shows AI-generated documentation with complexity analysis in a floating popup">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift J"/>
        </action>
    </actions>
</idea-plugin>
